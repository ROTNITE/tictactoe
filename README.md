# TicTacToe (LinesScore / Classic) — учебный проект

Учебное приложение «крестики‑нолики» на C++/Qt с расширенными правилами открытия и ИИ (minimax).  
Проект предназначен для изучения архитектуры игрового ядра, алгоритмов поиска и UI‑интеграции. В дальнейшем может быть развиваем в коммерческий продукт.

## Возможности

- **Два режима игры**:
  - **Classic** — победа по линии.
  - **LinesScore** — начисление очков за линии (Score = O − X).
- **Правила открытия**:
  - **None** — обычное начало.
  - **Pie‑swap** — второй игрок может поменяться сторонами после первого хода.
  - **Swap2** — три первых хода делает игрок A (X‑O‑X), затем игрок B выбирает опцию.
  - **Swap2+** — два первых хода делает игрок A (X‑O), затем игрок B выбирает сторону и делает 3‑й ход.
- **ИИ**:
  - Minimax + alpha‑beta.
  - Таблица транспозиций (TT), эвристики позиционной оценки.
  - Несколько режимов генерации ходов (Full / Frontier / Hybrid).
  - Пресеты производительности (Fast / Strict).
- **Режимы игры**:
  - Игрок vs Игрок.
  - Игрок vs ИИ.
  - ИИ vs ИИ (авто или пошагово).
- **UI‑контроль**:
  - Настройка размера поля и длины линии.
  - Настройка глубины поиска, режимов генерации ходов и расширений.
  - Статистика партии и подробная статистика поиска ИИ.
- **Индикатор хода**:
  - Всегда показывает, кто ходит:  
    `«ходит Игрок A (X)»` / `«ходит Игрок B (O)»`.

## Системные требования

- **C++17**
- **Qt 6** (Widgets, Concurrent)
- **CMake 3.16+**

Проверено на Windows, но проект кроссплатформенный (Qt).

## Сборка и запуск

### Через CMake (CLI)

```bash
cmake -S . -B build -DCMAKE_PREFIX_PATH="C:/Qt/6.x.x/msvcXXXX_64"
cmake --build build --config Release
```

Запуск:

```bash
.\build\Release\tictactoe2.exe
```

### Через Qt Creator

1. Открой `CMakeLists.txt` в Qt Creator.
2. Укажи подходящий Qt Kit (Qt 6, MSVC/MinGW).
3. Собери и запусти проект.

## Правила открытия (кратко)

- **Pie‑swap**:  
  X делает 1‑й ход, затем игрок B может поменяться сторонами.

- **Swap2**:  
  Игрок A ставит **X‑O‑X**, затем игрок B выбирает:
  1) взять X,  
  2) взять O + поставить дополнительный O,  
  3) поставить две фишки и дать выбор стороны игроку A.

- **Swap2+**:  
  Игрок A ставит **X‑O**, затем игрок B выбирает сторону и делает 3‑й ход, после чего игрок A выбирает сторону.

## Алгоритмы и архитектура

### Основные компоненты

- `Board.hpp` — модель поля, проверки победы, подсчёт линий.
- `GameController.hpp` — правила игры, opening‑фазы, логика смены сторон.
- `MinimaxAI.hpp` — поиск хода, эвристика, TT, LMR/Extensions.
- `mainwindow.*` — Qt UI и связка с контроллером.

### Minimax‑движок

- Итеративное углубление по глубине.
- Alpha‑beta отсечение.
- Таблица транспозиций (HashMap).
- Режимы генерации:
  - **Full** — все свободные клетки.
  - **Frontier** — клетки рядом с уже занятыми.
  - **Hybrid** — расширение радиуса, когда кандидатов мало.

## Настройки

В UI доступно:

- Размер доски и длина линии.
- Пресеты движка (Fast / Strict).
- Глубина поиска.
- Режимы генерации ходов и расширений.
- Режимы игры (PvP / PvE / AI vs AI).

## Тесты

В репозитории есть `opening_tests.cpp` (базовые сценарии открытия).  
Его можно собрать как отдельную цель при наличии соответствующей настройки в `CMakeLists.txt`.

## Структура проекта

```
.
├── Board.hpp
├── GameController.hpp
├── MinimaxAI.hpp
├── DynamicArray.hpp
├── HashMap.hpp
├── main.cpp
├── mainwindow.h / mainwindow.cpp / mainwindow.ui
├── opening_tests.cpp
└── CMakeLists.txt
```

## Статус и планы

Проект развивается как учебный. Возможные направления:

- Улучшение стабильности и производительности ИИ на больших досках.
- Оптимизация таблицы транспозиций и эвристик.
- Упрощение/расширение opening‑логики для честной игры.
- Расширенная статистика и режимы анализа.

## Лицензия

Пока не определена (учебный проект). Если планируется коммерческое использование — рекомендуем выбрать и явно указать лицензию.

## Контакты

Если проект будет развиваться дальше — добавьте ссылку на репозиторий и контакты автора.
